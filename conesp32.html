<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula Interativa: Problemas de Acesso ao ESP32</title>
    <!-- Carregamento do Tailwind CSS para estiliza√ß√£o -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Define a fonte Inter como padr√£o */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
            display: flex;
            justify-content: center;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            width: 100%;
        }
        /* Estilo para o cabe√ßalho do acorde√£o */
        summary {
            cursor: pointer;
            padding: 1.25rem 1.5rem;
            border-radius: 0.5rem;
            background-color: #ffffff;
            font-weight: 600;
            color: #1f2937;
            transition: background-color 0.2s ease-in-out;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }

        summary:hover {
            background-color: #f3f4f6;
        }

        /* Estilo para o conte√∫do do acorde√£o */
        .content {
            padding: 1.5rem;
            border-top: 1px solid #e5e7eb;
            background-color: #ffffff;
            border-radius: 0 0 0.5rem 0.5rem;
        }

        /* Estilo para a seta (quando aberto) */
        details[open] summary .arrow {
            transform: rotate(90deg);
        }

        .arrow {
            transition: transform 0.2s ease-in-out;
            font-size: 1.25rem;
        }

        /* Estilo de Destaque para Dicas */
        .tip-box {
            background-color: #eff6ff;
            border-left: 4px solid #3b82f6;
            padding: 1rem;
            border-radius: 0.25rem;
            margin-top: 1rem;
        }
        
        /* Container para o v√≠deo responsivo */
        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
            overflow: hidden;
            max-width: 100%;
            background: #000;
            border-radius: 0.5rem;
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
    <script>
        // Adiciona funcionalidade para garantir que apenas um acorde√£o esteja aberto por vez
        document.addEventListener('DOMContentLoaded', () => {
            const detailsElements = document.querySelectorAll('details');
            detailsElements.forEach(details => {
                details.addEventListener('toggle', (event) => {
                    if (details.open) {
                        detailsElements.forEach(otherDetails => {
                            if (otherDetails !== details && otherDetails.open) {
                                otherDetails.open = false;
                            }
                        });
                    }
                });
            });
        });
    </script>
</head>
<body class="bg-gray-50 p-6">
    <div class="container bg-white shadow-xl rounded-lg p-6 md:p-10">
        <header class="mb-8 border-b pb-4">
            <h1 class="text-4xl font-extrabold text-blue-600">üõ†Ô∏è Guia de Solu√ß√£o de Problemas do ESP32</h1>
            <p class="mt-2 text-xl text-gray-600">Possibilidades para o computador n√£o reconhecer a placa ESP32</p>
        </header>

        <section id="troubleshooting-accordions" class="space-y-4">
            
            <!-- CATEGORIA 1: PROBLEMAS DE HARDWARE E CONEX√ÉO F√çSICA -->
            <details class="shadow-md rounded-lg overflow-hidden border border-gray-200">
                <summary class="text-red-700 hover:bg-red-50">
                    <span>1. O Elo Mais Fraco: Cabo e Conex√£o USB</span>
                    <span class="arrow text-gray-400">‚ñ∫</span>
                </summary>
                <div class="content">
                    <h2 class="text-2xl font-semibold mb-3 text-red-600">Causas F√≠sicas Comuns</h2>
                    <ul class="list-disc ml-5 space-y-3 text-gray-700">
                        <li>
                            <strong class="font-medium">Cabo USB Defeituoso:</strong> A causa mais comum! Muitos cabos USB (principalmente os de carregamento) s√£o apenas para energia e n√£o transmitem dados.
                            <div class="tip-box">
                                <p class="font-bold">Solu√ß√£o:</p>
                                <p>Tente usar um cabo USB novo e de alta qualidade que voc√™ saiba que suporta transfer√™ncia de dados (geralmente cabos mais curtos s√£o mais confi√°veis).</p>
                            </div>
                        </li>
                        <li>
                            <strong class="font-medium">Porta USB do Computador:</strong> A porta pode estar desativada, com problemas el√©tricos ou ser um hub USB fraco.
                            <div class="tip-box">
                                <p class="font-bold">Solu√ß√£o:</p>
                                <p>Troque a porta USB. Se estiver em um desktop, use uma porta traseira (direta da placa-m√£e). Evite hubs USB n√£o alimentados, se poss√≠vel.</p>
                            </div>
                        </li>
                        <li>
                            <strong class="font-medium">Placa Desligada ou Solta:</strong> A conex√£o entre o cabo e o conector micro-USB da placa pode estar frouxa.
                            <div class="tip-box">
                                <p class="font-bold">Solu√ß√£o:</p>
                                <p>Reconecte o cabo firmemente. Verifique se o LED de energia (PWR) na placa ESP32 acende quando conectado.</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </details>

            <!-- CATEGORIA 2: PROBLEMAS DE DRIVERS (O Sistema N√£o V√™) -->
            <details class="shadow-md rounded-lg overflow-hidden border border-gray-200 mt-4">
                <summary class="text-yellow-700 hover:bg-yellow-50">
                    <span>2. Aus√™ncia ou Erro de Drivers Seriais (VCP)</span>
                    <span class="arrow text-gray-400">‚ñ∫</span>
                </summary>
                <div class="content">
                    <h2 class="text-2xl font-semibold mb-3 text-yellow-600">O Corretor de Protocolo</h2>
                    <p class="mb-4 text-gray-700">O computador precisa de um driver espec√≠fico para "entender" o chip conversor USB-Serial da sua placa ESP32.</p>
                    <ul class="list-disc ml-5 space-y-3 text-gray-700">
                        <li>
                            <strong class="font-medium">Chip CP210x (Silicon Labs):</strong> Comum em placas ESP32 genu√≠nas e em algumas clones.
                            <div class="tip-box bg-yellow-100 border-yellow-500">
                                <p class="font-bold">Solu√ß√£o:</p>
                                <p>Instale o driver oficial da Silicon Labs (CP210x VCP Drivers). Reinicie o computador ap√≥s a instala√ß√£o.</p>
                            </div>
                        </li>
                        <li>
                            <strong class="font-medium">Chip CH340/CH341G (WCH):</strong> Extremamente comum em placas clones mais baratas.
                            <div class="tip-box bg-yellow-100 border-yellow-500">
                                <p class="font-bold">Solu√ß√£o:</p>
                                <p>Instale o driver oficial CH340/CH341G. Reinicie ap√≥s a instala√ß√£o.</p>
                            </div>
                        </li>
                        <li>
                            <strong class="font-medium">Driver N√£o Assinado (Windows):</strong> Em alguns Windows mais antigos, pode haver bloqueio de drivers n√£o assinados.
                            <div class="tip-box bg-yellow-100 border-yellow-500">
                                <p class="font-bold">Diagn√≥stico:</p>
                                <p>Abra o Gerenciador de Dispositivos (Windows) ou digite <code>ls /dev/tty.*</code> no Terminal (macOS/Linux) para ver se a porta aparece. Se n√£o aparecer, o driver √© a falha.</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </details>

            <!-- CATEGORIA 3: PROBLEMAS DE SOFTWARE E IDE (O Computador V√™, Mas N√£o Se Comunica) -->
            <details class="shadow-md rounded-lg overflow-hidden border border-gray-200 mt-4">
                <summary class="text-blue-700 hover:bg-blue-50">
                    <span>3. Configura√ß√£o Incorreta da IDE (Arduino, VS Code, etc.)</span>
                    <span class="arrow text-gray-400">‚ñ∫</span>
                </summary>
                <div class="content">
                    <h2 class="text-2xl font-semibold mb-3 text-blue-600">Ajustes Finos no Ambiente</h2>
                    <ul class="list-disc ml-5 space-y-3 text-gray-700">
                        <li>
                            <strong class="font-medium">Porta Serial Errada Selecionada:</strong> Voc√™ pode ter selecionado outra porta serial (ex: COM1) que n√£o √© a do seu ESP32.
                            <div class="tip-box bg-blue-100 border-blue-500">
                                <p class="font-bold">Solu√ß√£o:</p>
                                <p>Verifique o Gerenciador de Dispositivos ou o Terminal para identificar o nome exato da porta serial (ex: COMx no Windows, /dev/tty.SLAB_USBtoUART no Mac) e selecione-a na IDE.</p>
                            </div>
                        </li>
                        <li>
                            <strong class="font-medium">Placa ESP32 Errada Selecionada:</strong> Embora menos cr√≠tico para a conex√£o, selecionar o modelo de placa errado pode causar erros de compila√ß√£o ou falhas de upload.
                            <div class="tip-box bg-blue-100 border-blue-500">
                                <p class="font-bold">Solu√ß√£o:</p>
                                <p>Certifique-se de que o modelo da sua placa (ex: "ESP32 Dev Module" ou "Lolin D32") est√° selecionado corretamente no menu "Ferramentas > Placa".</p>
                            </div>
                        </li>
                        <li>
                            <strong class="font-medium">Baud Rate Incorreto:</strong> A velocidade de comunica√ß√£o serial pode estar incorreta, causando caracteres estranhos no monitor serial ou falha de upload.
                            <div class="tip-box bg-blue-100 border-blue-500">
                                <p class="font-bold">Solu√ß√£o:</p>
                                <p>Para upload, geralmente 115200 ou 460800 √© o padr√£o. Para o Monitor Serial, deve corresponder ao valor definido no seu c√≥digo (ex: <code>Serial.begin(9600);</code>).</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </details>

            <!-- CATEGORIA 4: PROBLEMAS DE BOOTLOADER E MODO FLASH -->
            <details class="shadow-md rounded-lg overflow-hidden border border-gray-200 mt-4">
                <summary class="text-purple-700 hover:bg-purple-50">
                    <span>4. Falha ao Entrar no Modo de Programa√ß√£o (O Bootloader)</span>
                    <span class="arrow text-gray-400">‚ñ∫</span>
                </summary>
                <div class="content">
                    <h2 class="text-2xl font-semibold mb-3 text-purple-600">A Dan√ßa dos Bot√µes</h2>
                    <p class="mb-4 text-gray-700">Se o driver estiver OK e a porta selecionada, mas o upload falhar com erros como <code>A fatal error occurred: Failed to connect to ESP32: Timed out waiting for packet header</code>, a placa n√£o entrou no modo de grava√ß√£o.</p>
                    <ul class="list-disc ml-5 space-y-3 text-gray-700">
                        <li>
                            <strong class="font-medium">Sequ√™ncia de Boot Manual Necess√°ria:</strong> Placas mais antigas ou certas arquiteturas podem exigir que voc√™ force o modo de grava√ß√£o.
                            <div class="tip-box bg-purple-100 border-purple-500">
                                <p class="font-bold">Solu√ß√£o Manual (Cr√≠tica):</p>
                                <ol class="list-decimal ml-5 mt-2">
                                    <li>Mantenha o bot√£o <strong class="text-red-600">BOOT (IO0)</strong> pressionado.</li>
                                    <li>Pressione e solte o bot√£o <strong class="text-green-600">RESET (EN)</strong>.</li>
                                    <li>Solte o bot√£o <strong class="text-red-600">BOOT (IO0)</strong>.</li>
                                    <li>Tente fazer o upload do c√≥digo *imediatamente* ap√≥s a sequ√™ncia.</li>
                                </ol>
                                <p class="mt-2">Muitas placas modernas fazem isso automaticamente, mas se falhar, a interven√ß√£o manual √© obrigat√≥ria.</p>
                            </div>
                        </li>
                        <li>
                            <strong class="font-medium">Problemas de Energia:</strong> A energia fornecida pela porta USB pode n√£o ser suficiente durante o processo de grava√ß√£o, o que pode interromper a conex√£o.
                            <div class="tip-box bg-purple-100 border-purple-500">
                                <p class="font-bold">Solu√ß√£o:</p>
                                <p>Tente usar um cabo Y USB ou um hub USB alimentado para garantir energia suficiente, especialmente se estiver usando muitos perif√©ricos ou LEDs.</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </details>

            <!-- CATEGORIA 5: PROBLEMAS DE PERMISS√ïES E SISTEMA OPERACIONAL -->
            <details class="shadow-md rounded-lg overflow-hidden border border-gray-200 mt-4">
                <summary class="text-green-700 hover:bg-green-50">
                    <span>5. Barreiras do Sistema Operacional (SO)</span>
                    <span class="arrow text-gray-400">‚ñ∫</span>
                </summary>
                <div class="content">
                    <h2 class="text-2xl font-semibold mb-3 text-green-600">Acesso Negado</h2>
                    <ul class="list-disc ml-5 space-y-3 text-gray-700">
                        <li>
                            <strong class="font-medium">Permiss√µes no Linux:</strong> Por padr√£o, usu√°rios comuns no Linux n√£o t√™m permiss√£o para acessar dispositivos seriais.
                            <div class="tip-box bg-green-100 border-green-500">
                                <p class="font-bold">Solu√ß√£o (Linux):</p>
                                <p>Adicione seu usu√°rio ao grupo <code>dialout</code> ou <code>uucp</code> usando o comando:</p>
                                <code class="block bg-gray-200 p-2 rounded mt-1">sudo usermod -a -G dialout $USER</code>
                                <p class="mt-2">Voc√™ precisar√° sair da sess√£o e logar novamente para que a mudan√ßa tenha efeito.</p>
                            </div>
                        </li>
                        <li>
                            <strong class="font-medium">Bloqueio de Antiv√≠rus/Firewall (Windows):</strong> Alguns softwares de seguran√ßa podem interferir na comunica√ß√£o de baixo n√≠vel da porta serial.
                            <div class="tip-box bg-green-100 border-green-500">
                                <p class="font-bold">Solu√ß√£o (Windows):</p>
                                <p>Tente desativar temporariamente o antiv√≠rus ou adicionar o execut√°vel da sua IDE (ex: <code>arduino.exe</code>) como uma exce√ß√£o no Firewall.</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </details>
            
            <!-- CATEGORIA 6: RECURSO EM V√çDEO -->
            <details class="shadow-md rounded-lg overflow-hidden border border-gray-200 mt-4">
                <summary class="text-indigo-700 hover:bg-indigo-50">
                    <span>6. üé• Aula em V√≠deo: Como Instalar o Driver (Conte√∫do Externo)</span>
                    <span class="arrow text-gray-400">‚ñ∫</span>
                </summary>
                <div class="content">
                    <h2 class="text-2xl font-semibold mb-3 text-indigo-600">COMPUTADOR N√ÉO RECONHECE A ESP32? Como resolver</h2>
                    <p class="mb-4 text-gray-700">Este v√≠deo, do canal <strong class="font-medium">EngEasier | Automa√ß√£o com Arduino e ESP32</strong>, oferece uma vis√£o pr√°tica, detalhando as duas causas mais comuns para a falha de reconhecimento da placa: drivers e cabos.</p>
                    
                    <!-- V√≠deo Embed -->
                    <div class="video-container mb-4">
                        <iframe 
                            src="https://www.youtube.com/embed/Amtw8nU0cfg" 
                            title="COMPUTADOR N√ÉO RECONHECE A ESP32? Como resolver"
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                            allowfullscreen>
                        </iframe>
                    </div>

                    <h3 class="text-xl font-semibold mb-2 text-indigo-700">Pontos Chave do V√≠deo (Dica do Professor):</h3>
                    <ul class="list-disc ml-5 space-y-2 text-gray-700">
                        <li>
                            <strong class="font-medium">Prioridade: Drivers.</strong> O v√≠deo refor√ßa que a falta do driver (CP210x ou CH340) √© a causa mais frequente e ensina como localiz√°-los e instal√°-los. (Conforme mencionado em [00:01:37]).
                        </li>
                        <li>
                            <strong class="font-medium">Cabos Apenas de Energia.</strong> O segundo ponto mais importante √© verificar se o cabo USB que voc√™ est√° usando suporta a transmiss√£o de dados. Cabos de carregamento de celular geralmente s√≥ fornecem alimenta√ß√£o e devem ser substitu√≠dos. (Conforme mencionado em [00:04:39]).
                        </li>
                        <li>
                            <strong class="font-medium">Verifica√ß√£o de Chip.</strong> Para placas n√£o padr√£o, √© essencial verificar o modelo do chip USB-Serial na pr√≥pria placa e pesquisar o driver correspondente (Conforme mencionado em [00:05:30]).
                        </li>
                    </ul>
                </div>
            </details>

        </section>

        <footer class="mt-10 pt-4 border-t text-center text-gray-500">
            <p class="text-lg font-medium">‚ú® Dica Final: O Ciclo de Debug</p>
            <p class="text-sm mt-1">Sempre comece pelo mais simples (Cabo) e avance metodicamente para o mais complexo (Configura√ß√£o de Bootloader). A paci√™ncia √© a melhor ferramenta do programador embarcado!</p>
        </footer>
    </div>

    <!-- Script para garantir que a fonte Inter seja carregada, embora o Tailwind j√° a sugira -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
</body>
</html>
