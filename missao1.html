<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ Miss√£o Programa√ß√£o Espacial: CubeSat com ESP32 e BIPES</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        .nav-button.active {
            background-color: #f97316;
            color: white;
            font-weight: 600;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 400px;
        }
        
        table {
            width: 100%;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-collapse: collapse;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            border-radius: 0.75rem;
        }
        th, td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }
        thead th {
            background-color: #f3f4f6;
            font-weight: 600;
            color: #374151;
        }
        tbody tr:last-child td {
            border-bottom: none;
        }
        tbody tr:nth-child(even) {
            background-color: #f9fafb;
        }
        tbody tr:hover {
            background-color: #fef3c7;
        }
        .info-box {
            background-color: #eff6ff;
            border-left: 4px solid #3b82f6;
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0.25rem;
            color: #1e40af;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- 
        Chosen Palette: Warm Neutrals (bg-f8fafc, white) with a warm Orange accent (f97316)
        Application Structure Plan: A single-page application structured as an interactive "stepper" or wizard. A main navigation bar allows users to click through different sections ('In√≠cio', 'M√≥dulo 1-4', 'Pr√≥ximos Passos'). JavaScript handles showing/hiding the relevant content div and updating the active state of the navigation button. This structure is the most logical for a linear lesson plan, guiding the user step-by-step while feeling interactive and modern. The 'In√≠cio' (Home) section acts as a "Mission Briefing," consolidating the objective, level, materials, and a new overview chart (Donut chart) showing the lesson components.
        Visualization & Content Choices:
        - Report Info: Lesson Modules (M√≥dulos 1-4) -> Goal: Show lesson structure overview -> Viz: Donut Chart (Chart.js) in 'In√≠cio' section -> Interaction: None (static viz) -> Justification: Fulfills Chart.js requirement and visually summarizes the lesson plan.
        - Report Info: Lesson Structure (M√≥dulos 1-5) -> Goal: Guide user linearly -> Viz: HTML/Tailwind Navigation "Stepper" -> Interaction: On-click, JS shows/hides content sections -> Justification: This is the primary interactive element that transforms the static document into an SPA.
        - Report Info: Materiais Necess√°rios -> Goal: Inform -> Viz: Styled HTML list with emoji icons (HTML/Tailwind) -> Justification: More visually engaging than plain text.
        - Report Info: Conceito: setup()/loop() -> Goal: Explain concept -> Viz: Styled "Info Box" (HTML/Tailwind) -> Justification: Breaks text flow and highlights key concepts.
        - Report Info: Code Block Tables -> Goal: Show code example -> Viz: Styled HTML <table> (HTML/Tailwind) -> Justification: Clear, professional presentation of tabular data.
        CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->

    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">

        <header class="text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-bold text-orange-600">üöÄ Miss√£o Programa√ß√£o Espacial</h1>
            <p class="text-xl text-gray-600 mt-2">CubeSat com ESP32 e BIPES</p>
        </header>

        <nav class="flex flex-wrap justify-center gap-2 sm:gap-4 mb-12">
            <button class="nav-button active" data-target="section-inicio">In√≠cio (Briefing)</button>
            <button class="nav-button" data-target="section-mod1">M√≥dulo 1: CDH</button>
            <button class="nav-button" data-target="section-mod2">M√≥dulo 2: Opera√ß√µes</button>
            <button class="nav-button" data-target="section-mod3">M√≥dulo 3: Telemetria</button>
            <button class="nav-button" data-target="section-mod4">M√≥dulo 4: Controle</button>
            <button class="nav-button" data-target="section-passos">Pr√≥ximos Passos</button>
        </nav>

        <main>
            <section id="section-inicio" class="content-section active">
                <div class="bg-white shadow-xl rounded-2xl p-6 sm:p-10">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Sua Miss√£o: O Briefing</h2>
                    <p class="text-lg text-gray-600 leading-relaxed mb-8">
                        Bem-vindo √† sua miss√£o espacial! Esta √© a sua esta√ß√£o de prepara√ß√£o. Antes de come√ßar a programar seu sat√©lite, revise os objetivos da miss√£o, o n√≠vel de dificuldade esperado e os materiais essenciais que voc√™ precisar√° para o lan√ßamento do seu projeto.
                    </p>

                    <div class="grid md:grid-cols-2 gap-8 items-center">
                        <div>
                            <div class="mb-6">
                                <h3 class="text-2xl font-semibold text-gray-700 mb-3">üéØ Objetivo da Aula</h3>
                                <p class="text-gray-600">Aprender a usar a plataforma de programa√ß√£o em blocos **BIPES** e a placa **ESP32** para simular os subsistemas essenciais de um CubeSat (sat√©lite de pequeno porte), focando em coleta e transmiss√£o de dados (telemetria).</p>
                            </div>
                            <div class="mb-6">
                                <h3 class="text-2xl font-semibold text-gray-700 mb-3">üßë‚ÄçüöÄ N√≠vel de Dificuldade</h3>
                                <p class="text-gray-600">Iniciante/Intermedi√°rio. Ideal para jovens a partir de 12 anos ou para Jovens Brilhantes de qualquer idade.</p>
                            </div>
                        </div>
                        
                        <div>
                            <h3 class="text-2xl font-semibold text-gray-700 mb-4 text-center">Vis√£o Geral dos M√≥dulos</h3>
                            <div class="chart-container">
                                <canvas id="lessonChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <hr class="my-10 border-gray-200">

                    <div>
                        <h3 class="text-3xl font-bold text-gray-800 mb-6">üõ†Ô∏è Materiais Necess√°rios</h3>
                        <div class="grid sm:grid-cols-2 gap-6">
                            <div class="bg-gray-50 rounded-lg p-6">
                                <h4 class="text-xl font-semibold text-gray-700 mb-4">Hardware</h4>
                                <ul class="space-y-3">
                                    <li class="flex items-start">
                                        <span class="text-green-500 mr-2 mt-1">‚úì</span>
                                        <span>**Placa ESP32:** (Modelo gen√©rico ou espec√≠fico como NodeMCU ESP32).</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-green-500 mr-2 mt-1">‚úì</span>
                                        <span>**Cabo Micro USB:** Para conectar o ESP32 ao computador.</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-blue-500 mr-2 mt-1">‚ìò</span>
                                        <span>**(Opcional para a pr√≥xima fase):** Sensor de Temperatura e Umidade (DHT11 ou BMP180) e fios jumpers.</span>
                                    </li>
                                </ul>
                            </div>
                            <div class="bg-gray-50 rounded-lg p-6">
                                <h4 class="text-xl font-semibold text-gray-700 mb-4">Software</h4>
                                <ul class="space-y-3">
                                    <li class="flex items-start">
                                        <span class="text-green-500 mr-2 mt-1">‚úì</span>
                                        <span>**Computador** com navegador Google Chrome ou Microsoft Edge.</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-green-500 mr-2 mt-1">‚úì</span>
                                        <span>**Acesso √† internet** (para usar o BIPES online).</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-green-500 mr-2 mt-1">‚úì</span>
                                        <span>**Ambiente BIPES:** `https://bipes.net.br/ide/`</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                </div>
            </section>

            <section id="section-mod1" class="content-section">
                <div class="bg-white shadow-xl rounded-2xl p-6 sm:p-10">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">M√ìDULO 1: Preparando o Computador de Bordo</h2>
                    <p class="text-lg text-gray-600 leading-relaxed mb-8">
                        O primeiro passo de qualquer miss√£o √© ligar o c√©rebro. Neste m√≥dulo, vamos preparar o "Computador de Bordo" (sua placa ESP32), instalando o software necess√°rio (MicroPython) e estabelecendo a primeira conex√£o de comunica√ß√£o com nossa "esta√ß√£o terrestre" (a IDE BIPES).
                    </p>

                    <h3 class="text-2xl font-semibold text-gray-700 mb-4">Passo 1: Flash do MicroPython (Apenas a primeira vez!)</h3>
                    <p class="text-gray-600 mb-4">A ESP32 precisa entender a linguagem Python (MicroPython) para rodar os blocos do BIPES.</p>
                    <ol class="list-decimal list-inside space-y-2 text-gray-600 mb-6">
                        <li>Acesse a ferramenta de *flash* do BIPES: <a href="https://bipes.net.br/flash/esp-web-tools/" target="_blank" class="text-orange-600 hover:underline">https://bipes.net.br/flash/esp-web-tools/</a></li>
                        <li>Conecte sua ESP32 ao PC com o cabo USB.</li>
                        <li>No site, clique em **"Connect"** e selecione a porta serial da sua ESP32 (ex: `COMx` ou `/dev/ttyUSBx`).</li>
                        <li>Clique em **"Install MicroPython"** e siga as instru√ß√µes para instalar o firmware (voc√™ s√≥ precisa fazer isso uma vez por placa).</li>
                    </ol>

                    <h3 class="text-2xl font-semibold text-gray-700 mb-4">Passo 2: Conectando a Placa na IDE BIPES</h3>
                    <ol class="list-decimal list-inside space-y-2 text-gray-600">
                        <li>Acesse a IDE principal do BIPES: <a href="https://bipes.net.br/ide/" target="_blank" class="text-orange-600 hover:underline">https://bipes.net.br/ide/</a></li>
                        <li>No canto superior direito, na lista suspensa **"Placa"**, selecione **"ESP32"**.</li>
                        <li>Acesse a aba **"Console"**.</li>
                        <li>Clique no bot√£o **"Serial"** e conecte-se √† mesma porta serial que voc√™ usou no Passo 1.</li>
                        <li>Se a conex√£o estiver correta, voc√™ ver√° a mensagem **`MicroPython vX.X.X on YYYYY`**. Seu computador de bordo est√° pronto!</li>
                    </ol>
                </div>
            </section>

            <section id="section-mod2" class="content-section">
                <div class="bg-white shadow-xl rounded-2xl p-6 sm:p-10">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">M√ìDULO 2: Subsistema CDH (Comando e Manuseio de Dados)</h2>
                    <p class="text-lg text-gray-600 leading-relaxed mb-8">
                        O CDH (Comando e Manuseio de Dados) √© o sistema operacional do sat√©lite. Ele executa a l√≥gica principal da miss√£o. Nossa primeira tarefa √© criar um "heartbeat" (pulsa√ß√£o), um sinal visual para sabermos que o computador de bordo est√° vivo e executando seu ciclo de opera√ß√µes.
                    </p>

                    <div class="info-box">
                        <h4 class="font-bold text-lg mb-2">Conceito: Fun√ß√£o `setup()` e `loop()`</h4>
                        <p>Em programa√ß√£o embarcada, temos duas se√ß√µes principais:</p>
                        <ul class="list-disc list-inside mt-2">
                            <li>**`setup` (Configura√ß√£o):** O que o sat√©lite faz **apenas uma vez** ao ser ligado (ex: inicializar sensores, ligar o r√°dio).</li>
                            <li>**`loop` (Miss√£o):** O que o sat√©lite faz **repetidamente** during a miss√£o (ex: ler temperatura, enviar dados).</li>
                        </ul>
                    </div>

                    <h3 class="text-2xl font-semibold text-gray-700 mb-4">Tarefa: Blink (Simulando o "Heartbeat" do Sat√©lite)</h3>
                    <p class="text-gray-600 mb-4">Vamos fazer o LED interno da ESP32 piscar para indicar que o CDH est√° vivo e funcionando.</p>
                    <ol class="list-decimal list-inside space-y-2 text-gray-600 mb-6">
                        <li>V√° para a aba **"Blocks/Blocos"**.</li>
                        <li>No menu **"Loops/La√ßos"**, arraste o bloco principal `while True:`.</li>
                        <li>No menu **"Hardware/Placa"**, encontre o bloco de controle de pinos.</li>
                        <li>Arraste o bloco `set digital pin (1) to HIGH` para dentro do `while True`. (O pino do LED integrado no ESP32 geralmente √© o D2). **Altere o pino (1) para (2)**.</li>
                        <li>Em **"Time/Tempo"**, arraste o bloco `sleep (1) seconds`.</li>
                        <li>Repita os passos 3 e 4, mas altere a configura√ß√£o para `set digital pin (2) to LOW`.</li>
                        <li>Adicione outro bloco `sleep (1) seconds`.</li>
                    </ol>

                    <p class="text-gray-600 mb-2">**Seu C√≥digo em Blocos deve ficar assim:**</p>
                    <p class="text-sm text-gray-500 mb-4">(O BIPES n√£o usa blocos de `setup` e `loop` como o Arduino IDE, mas sim o `while True` para a fun√ß√£o de repeti√ß√£o).</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Categoria</th>
                                <th>Bloco</th>
                                <th>A√ß√£o</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Hardware</strong></td>
                                <td>`set digital pin (2) to HIGH`</td>
                                <td>Liga o LED (pino 2)</td>
                            </tr>
                            <tr>
                                <td><strong>Time</strong></td>
                            <td>`sleep (1) seconds`</td>
                                <td>Espera 1 segundo</td>
                            </tr>
                            <tr>
                                <td><strong>Hardware</strong></td>
                                <td>`set digital pin (2) to LOW`</td>
                                <td>Desliga o LED</td>
                            </tr>
                            <tr>
                                <td><strong>Time</strong></td>
                                <td>`sleep (1) seconds`</td>
                                <td>Espera 1 segundo</td>
                            </tr>
                        </tbody>
                    </table>

                    <p class="text-gray-600"><strong>A√ß√£o:</strong> Clique no bot√£o **"Run/Executar"** na IDE.</p>
                    <p class="text-gray-600"><strong>Resultado:</strong> O LED da sua ESP32 deve piscar a cada 1 segundo. O CDH est√° funcionando!</p>
                </div>
            </section>

            <section id="section-mod3" class="content-section">
                <div class="bg-white shadow-xl rounded-2xl p-6 sm:p-10">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">M√ìDULO 3: Subsistema de Telemetria (TT&C)</h2>
                    <p class="text-lg text-gray-600 leading-relaxed mb-8">
                        O Subsistema de Telemetria, Rastreamento e Comando (TT&C) √© respons√°vel por enviar dados vitais √† "Esta√ß√£o Terrestre" (nosso console). Vamos simular o envio de um status da miss√£o e a leitura do n√≠vel da bateria.
                    </p>

                    <h3 class="text-2xl font-semibold text-gray-700 mb-4">Tarefa A: Enviando a Primeira Mensagem de Bordo</h3>
                    <ol class="list-decimal list-inside space-y-2 text-gray-600 mb-6">
                        <li>Na aba **"Blocks/Blocos"**, em **"Text/Texto"**, encontre o bloco `print`.</li>
                        <li>Adicione o bloco `print` dentro do seu `while True` (antes ou depois do Blink).</li>
                        <li>Em **"Text/Texto"**, arraste o bloco de texto (entre aspas) e escreva: `"CUBE-SAT: OK. Missao em andamento."`</li>
                    </ol>
                    <table>
                        <thead>
                            <tr>
                                <th>Bloco</th>
                                <th>A√ß√£o</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Text</strong></td>
                                <td>`print ("CUBE-SAT: OK. Missao em andamento.")`</td>
                            </tr>
                        </tbody>
                    </table>
                    <p class="text-gray-600 mt-4"><strong>A√ß√£o:</strong> Execute o c√≥digo novamente.</p>
                    <p class="text-gray-600"><strong>Resultado:</strong> A mensagem aparecer√° na aba **"Console"** a cada 2 segundos. Voc√™ enviou sua primeira telemetria!</p>
                    
                    <hr class="my-10 border-gray-200">

                    <h3 class="text-2xl font-semibold text-gray-700 mb-4">Tarefa B: Vari√°veis de Telemetria (Simulando Bateria)</h3>
                    <p class="text-gray-600 mb-4">Em um sat√©lite, usamos vari√°veis para armazenar o valor lido por um sensor.</p>
                    <ol class="list-decimal list-inside space-y-2 text-gray-600 mb-6">
                        <li>V√° para **"Variables/Vari√°veis"** e clique em **"Create variable..."**. Crie a vari√°vel **`BATERIA`**.</li>
                        <li>No in√≠cio do seu `while True`, use o bloco `set BATERIA to (0)`.</li>
                        <li>Para simular a leitura do sensor (j√° que n√£o temos um ligado ainda), vamos usar o menu **"Math/Matem√°tica"** e o bloco `random integer from 1 to 100`.</li>
                        <li>Altere a linha para: `set BATERIA to random integer from (70) to (100)`. (Simulando uma carga entre 70% e 100%).</li>
                        <li>Mude o bloco `print` para mostrar a vari√°vel. Use o bloco **"Text/Texto"** `create text with (items)`.
                            <ul class="list-disc list-inside ml-6 mt-2">
                                <li>Item 1: Bloco de texto com `"Bateria: "`</li>
                                <li>Item 2: Vari√°vel **`BATERIA`**</li>
                            </ul>
                        </li>
                    </ol>
                    <p class="text-gray-600"><strong>A√ß√£o:</strong> Seu novo bloco de impress√£o deve ser: `print ( create text with ["Bateria: ", BATERIA] )`.</p>
                    <p class="text-gray-600"><strong>Resultado:</strong> Execute o c√≥digo. O valor da bateria (n√∫mero aleat√≥rio) ser√° enviado na telemetria.</p>
                </div>
            </section>

            <section id="section-mod4" class="content-section">
                <div class="bg-white shadow-xl rounded-2xl p-6 sm:p-10">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">M√ìDULO 4: Subsistema de Controle (Modo de Seguran√ßa)</h2>
                    <p class="text-lg text-gray-600 leading-relaxed mb-8">
                        Este √© o subsistema mais inteligente. Ele toma decis√µes com base nos dados da telemetria. Se a bateria estiver muito baixa, o sat√©lite precisa entrar em **Modo de Seguran√ßa** (Safe Mode) para economizar energia e garantir sua sobreviv√™ncia.
                    </p>

                    <h3 class="text-2xl font-semibold text-gray-700 mb-4">Tarefa: Estrutura de Decis√£o (IF/ELSE)</h3>
                    <ol class="list-decimal list-inside space-y-2 text-gray-600 mb-6">
                        <li>V√° para **"Logic/L√≥gica"** e arraste o bloco `if...do` para dentro do seu `while True`. (Substituindo o Blink anterior).</li>
                        <li>Use o bloco de compara√ß√£o (`=`) e combine-o com o bloco `less than (<)` ou o `less than or equal to (<=)` para criar a condi√ß√£o:
                           <br> `if BATERIA <= 75` (Se a carga da bateria for menor ou igual a 75%).</li>
                        <li>No campo **`do`**:
                            <ul class="list-disc list-inside ml-6 mt-2">
                                <li>Adicione um bloco `print` com a mensagem: `"ALERTA: Modo de Seguranca Ativado!"`</li>
                                <li>Adicione um c√≥digo de Blink **LENTO** (ex: piscar o LED a cada 2 segundos, n√£o 1).</li>
                            </ul>
                        </li>
                        <li>Clique na engrenagem do bloco `if` e arraste o bloco **`else`** para criar a se√ß√£o do c√≥digo normal.</li>
                        <li>Na se√ß√£o **`else`**:
                            <ul class="list-disc list-inside ml-6 mt-2">
                                <li>Adicione um bloco `print` com a mensagem: `"Status OK. Operacao Nominal."`</li>
                                <li>Adicione um c√≥digo de Blink **R√ÅPIDO** (piscar o LED a cada 0.5 segundos).</li>
                            </ul>
                        </li>
                    </ol>

                    <p class="text-gray-600"><strong>A√ß√£o:</strong> Execute o c√≥digo.</p>
                    <p class="text-gray-600"><strong>Resultado:</strong> Devido ao n√∫mero aleat√≥rio, o sat√©lite ir√° alternar entre a "Opera√ß√£o Nominal" (Bateria > 75%) e o "Modo de Seguran√ßa" (Bateria <= 75%), exibindo a mensagem correspondente no Console e alterando a frequ√™ncia do LED.</p>
                </div>
            </section>
            
            <section id="section-passos" class="content-section">
                <div class="bg-white shadow-xl rounded-2xl p-6 sm:p-10 text-center">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">5. Pr√≥ximos Passos (Miss√£o Real)</h2>
                    <p class="text-xl text-gray-600 leading-relaxed mb-8">
                        Parab√©ns, engenheiro(a) espacial! Voc√™ programou com sucesso os subsistemas CDH, Telemetria e Controle do seu simulador de sat√©lite.
                    </p>
                    <div class="bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-6 rounded-lg text-left max-w-3xl mx-auto">
                        <h4 class="font-bold text-2xl mb-4">Sua Pr√≥xima Fase: Carga √ötil Real</h4>
                        <p class="text-lg">O desafio agora √© integrar uma "carga √∫til" cient√≠fica real. Conecte um sensor (como o **BMP180** para altitude/press√£o ou **DHT11** para temperatura) na sua ESP32.</p>
                        <p class="text-lg mt-4">Use os blocos **"I2C"** ou **"DHT"** do BIPES para ler dados do ambiente. Substitua a vari√°vel simulada `BATERIA` pela vari√°vel real `TEMPERATURA` e crie uma condi√ß√£o de seguran√ßa baseada em dados reais:</p>
                        <p class="text-lg font-mono bg-orange-200 text-orange-800 p-3 rounded mt-4">`if TEMPERATURA >= 30` (Se a temperatura for muito alta, ativar o modo de seguran√ßa).</p>
                    </div>
                    <p class="text-lg text-gray-600 mt-8">Espero que esta aula tenha te dado uma base excelente para continuar seu projeto de CubeSat **ou CanSat**!</p>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navButtons = document.querySelectorAll('.nav-button');
            const contentSections = document.querySelectorAll('.content-section');
            let activeSection = 'section-inicio';
            let activeNavButton = document.querySelector('.nav-button.active');

            function showSection(sectionId) {
                contentSections.forEach(section => {
                    section.classList.remove('active');
                });
                
                const newSection = document.getElementById(sectionId);
                if (newSection) {
                    newSection.classList.add('active');
                    activeSection = sectionId;
                }
            }

            function updateNav(clickedButton) {
                if (activeNavButton) {
                    activeNavButton.classList.remove('active');
                }
                clickedButton.classList.add('active');
                activeNavButton = clickedButton;
            }

            navButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    const targetId = e.currentTarget.dataset.target;
                    showSection(targetId);
                    updateNav(e.currentTarget);
                });
            });

            function initChart() {
                const ctx = document.getElementById('lessonChart').getContext('2d');
                if (!ctx) return;

                new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: [
                            'M√≥dulo 1: CDH', 
                            'M√≥dulo 2: Opera√ß√µes', 
                            'M√≥dulo 3: Telemetria', 
                            'M√≥dulo 4: Controle'
                        ],
                        datasets: [{
                            label: 'Componentes da Li√ß√£o',
                            data: [25, 25, 25, 25],
                            backgroundColor: [
                                'rgba(59, 130, 246, 0.7)',
                                'rgba(16, 185, 129, 0.7)',
                                'rgba(234, 179, 8, 0.7)',
                                'rgba(249, 115, 22, 0.7)'
                            ],
                            borderColor: [
                                'rgba(59, 130, 246, 1)',
                                'rgba(16, 185, 129, 1)',
                                'rgba(234, 179, 8, 1)',
                                'rgba(249, 115, 22, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed !== null) {
                                            label += context.parsed + '%';
                                        }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            initChart();
            showSection(activeSection);
            
        });
    </script>
</body>
</html>
